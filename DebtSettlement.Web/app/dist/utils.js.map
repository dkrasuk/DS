{"version":3,"sources":["../src/utils.js"],"names":["app","utils","$","urlContent","url","baseHref","length","attr","parseUrlParams","document","location","href","substring","indexOf","paramsArray","split","result","i","param","push","htmlDecode","value","html","text","htmlEncode","ui","loader","element","enable","options","elem","data","appendTo","extend","modal","message","width","animated","style","progress","position","my","at","of","fogLoader","e","dialog","alertParams","func","title","winType","height","backdrop","keyboard","modalSizeClass","alert","id","buildModalButtons","buttons","buttonInArray","button","append","addClass","click","on","call","find","bodyHtml","content","img","color","open","close","t","prevAll","remove","load","onload","error","success","prompt","undefined","input","inputType","oldOpen","datetimepicker","format","lang","timepicker","dayOfWeekStart","mask","placeholder","removeAttr","defaultOptions","val","confirm","funcResult","notify","type","settings","popup","zindex","z_index","jQuery"],"mappings":"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","file":"utils.js","sourcesContent":["﻿; var app = app || {};\r\napp.utils = (function ($) {\r\n    'use strict';\r\n    var utils = {\r\n        urlContent: function (url) {\r\n            var baseHref = $('head base[href]');\r\n            if (baseHref.length !== 0) {\r\n                url = (baseHref.attr('href') === '/' ? '' : baseHref.attr('href')) + url;\r\n            }\r\n            return url;\r\n        },\r\n        parseUrlParams: function (url) {\r\n            /// <summary>достать параметер з URL.</summary>\r\n            if (typeof url === 'undefined' || url === null) {\r\n                url = document.location.href;\r\n            }\r\n            url = url.substring(url.indexOf('?') + 1);\r\n            var paramsArray = url.split(\"&\");\r\n            var result = {};\r\n            for (var i = 0; i < paramsArray.length; i++) {\r\n                var param = paramsArray[i].split(\"=\");\r\n                if (result[param[0]]) {\r\n                    if (typeof result[param[0]] === 'string') {\r\n                        result[param[0]] = [result[param[0]], param[1]];\r\n                    } else {\r\n                        result[param[0]].push(param[1]);\r\n                    }\r\n                } else {\r\n                    result[param[0]] = param[1];\r\n                }\r\n            }\r\n            return result;\r\n        },\r\n        htmlDecode: function (value) {\r\n            return $('<div/>').html(value).text();\r\n        },\r\n        htmlEncode: function (value) {\r\n            // Create a in-memory div, set its inner text (which jQuery automatically encodes)\r\n            // Then grab the encoded contents back out. The div never exists on the page.\r\n            return $('<div/>').text(value).html();\r\n        },\r\n        ui: {\r\n            loader: function (element, enable, options) {\r\n                if (typeof enable === 'undefined') {\r\n                    enable = true;\r\n                }\r\n                var elem = $(element);\r\n                var loader = elem.data('fog-loader');\r\n                if (!loader) {\r\n                    loader = $('<div id=\"\" class=\"simple-fog-loader\"></div>');\r\n                    loader.appendTo(elem);\r\n                }\r\n                if (enable) {\r\n                    options = $.extend(options, {\r\n                        appendTo: element,\r\n                        modal: false,\r\n                        message: 'Downloading',\r\n                        width: 150,\r\n                        animated: true,\r\n                        style: 'progressbar',\r\n                        progress: { value: false },\r\n                        position: { my: \"center\", at: \"center\", of: element }\r\n                    });\r\n\r\n                    loader.fogLoader(options);\r\n                    elem.data('fog-loader', loader);\r\n                } else {\r\n                    loader = elem.data('fog-loader') || $('.simple-fog-loader');\r\n                    try{\r\n                        loader.fogLoader('close');\r\n                        loader.fogLoader('destroy');\r\n                    } catch(e) {}\r\n                    elem.data('fog-loader', null);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    utils.ui.dialog = function (options) {\r\n        var alertParams = $.extend({\r\n            text: '',\r\n            func: null,\r\n            title: '',\r\n            winType: '',\r\n            width: '450',\r\n            height: '150',\r\n            modal: true,\r\n            backdrop: 'static',\r\n            keyboard: false\r\n        }, options);\r\n\r\n        var modalSizeClass = function (width) {\r\n            if (width < 768) {\r\n                return 'modal-sm';\r\n            }\r\n            if (width <= 992) {\r\n                return 'modal-md';\r\n            }\r\n            if (width <= 1199) {\r\n                return 'modal-lg';\r\n            }\r\n            return 'modal-xl';\r\n        }\r\n\r\n        var alert = $('<div class=\"modal fade\" id=\"' + (alertParams.id || '') + '\"  role=\"dialog\">\\\r\n                        <div class=\"modal-dialog ' + modalSizeClass(alertParams.width) + '\" role=\"document\">\\\r\n                          <div class=\"modal-content\">\\\r\n                            <div class=\"modal-header\">\\\r\n                              <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\\\r\n                                <span aria-hidden=\"true\">&times;</span>\\\r\n                                <span class=\"sr-only\">Close</span>\\\r\n                              </button>\\\r\n                              <h4 class=\"modal-title\"></h4>\\\r\n                            </div>\\\r\n                            <div class=\"modal-body\"></div>\\\r\n                          </div>\\\r\n                        </div>\\\r\n                     </div>');\r\n\r\n        var buildModalButtons = function (buttons) {\r\n            if (buttons) {\r\n                var result = $('<div class=\"modal-footer\">');\r\n                for (var i = 0; i < buttons.length; i++) {\r\n                    var buttonInArray = buttons[i];\r\n                    var button = $('<button class=\"btn btn-default\">');\r\n                    button.html(buttonInArray.html || buttonInArray.text);\r\n                    result.append(button);\r\n                    if (buttonInArray['class']) {\r\n                        button.addClass(buttonInArray['class']);\r\n                    }\r\n                    if (buttonInArray.click) {\r\n                        button.data('click', buttonInArray.click);\r\n                        button.on('click', function () { $(this).data('click').call(alert); });\r\n                    }\r\n                }\r\n                return result;\r\n            }\r\n            return null;\r\n        }\r\n        \r\n        if (alertParams.buttons) {\r\n            alert.find('.modal-content').append(buildModalButtons(alertParams.buttons));\r\n        }\r\n\r\n        var bodyHtml;\r\n        if (alertParams.content) {\r\n            bodyHtml = $(alertParams.content);\r\n        } else {\r\n\r\n            if (alertParams.winType) {\r\n                var img = '';\r\n                var color = '';\r\n                switch (alertParams.winType) {\r\n                    case 'error':\r\n                        img = 'remove-circle';\r\n                        color = 'text-danger';\r\n                        break;\r\n                    case 'warning':\r\n                        color = 'text-warning';\r\n                        img = 'warning-sign';\r\n                        break;\r\n                    case 'confirm':\r\n                        color = 'text-primary';\r\n                        img = 'question-sign';\r\n                        break;\r\n                    case 'success':\r\n                        color = 'text-success';\r\n                        img = 'ok';\r\n                        break;\r\n                    case 'info':\r\n                        color = 'text-primary';\r\n                        img = 'info-sign';\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n\r\n                alertParams.text =\r\n                '<div>\\\r\n                    <div style=\"position:relative;\">\\\r\n                        <div style=\"position:absolute; top:0; left:0;\" >\\\r\n                            <span style=\"font-size:28px;\" class=\"' + color + ' glyphicon glyphicon-' + img + '\"></span>\\\r\n                        </div>\\\r\n                        <div style=\"padding-left:40px;\">' + alertParams.text + '\\\r\n                        </div>\\\r\n                    </div>\\\r\n                </div>';\r\n            }\r\n\r\n            bodyHtml = $(alertParams.text);\r\n        }\r\n\r\n        alert.find('.modal-title').html(alertParams.title);\r\n\r\n        alert.find('.modal-body').html(bodyHtml);        \r\n\r\n        alert.on('show.bs.modal', function () {\r\n            if (alertParams.open) {\r\n                alertParams.open.call(alert);\r\n            }\r\n        });\r\n        alert.on('hidden.bs.modal', function () {\r\n            if (alertParams.close) {\r\n                alertParams.close.call(alert);\r\n            }\r\n\r\n            var t = alert.prevAll('.modal.fade.in');\r\n            if (t.length > 0) {\r\n                $('body').addClass('modal-open');\r\n            }\r\n\r\n            alert.remove();\r\n        });\r\n\r\n        alert.modal(alertParams);\r\n        if (alertParams.url && alertParams.url !== '') {\r\n            alert.find('.modal-body').load(alertParams.url, alertParams.onload);\r\n        }\r\n        return alert;\r\n\r\n\r\n\r\n        /// quuery-ui dialog\r\n        //'use strict';\r\n        //var alertParams = $.extend(\r\n        //    {\r\n        //        autoOpen: false,\r\n        //        id: 'utilsUiAlertDialog',\r\n        //        text: '',\r\n        //        actions: [\"Close\"],\r\n        //        url: '',\r\n        //        onload: null,\r\n        //        title: '',\r\n        //        winType: \"\",\r\n        //        width: 400,\r\n        //        height: 400,\r\n        //        content: null,\r\n        //        contentHtml: null,\r\n        //        iframe: false,\r\n        //        close: null,\r\n        //        modal: true,\r\n        //        //position: 'center',\r\n        //        resizable: true,\r\n        //        buttons: null,\r\n        //        visible: false,\r\n        //        pinned: false,\r\n        //        draggable: true,\r\n        //        appendTo: 'body'\r\n        //    }, options);\r\n        //var alert = $('<div id=\"' + alertParams.id + '\"></div>');\r\n\r\n        //if (alertParams.content) {\r\n        //    $(alertParams.content).appendTo(alert);\r\n        //} else {\r\n\r\n        //    if (alertParams.winType) {\r\n        //        var imgTemplate = '<span class=\"glyphicon glyphicon-remove-circle\" aria-hidden=\"true\"></span>';\r\n        //        var img = '';\r\n        //        var color = '';\r\n        //        switch (alertParams.winType) {\r\n        //            case 'error':\r\n        //                img = 'remove-circle';\r\n        //                color = 'text-danger';\r\n        //                break;\r\n        //            case 'warning':\r\n        //                color = 'text-warning';\r\n        //                img = 'warning-sign';\r\n        //                break;\r\n        //            case 'confirm':\r\n        //                color = 'text-primary';\r\n        //                img = 'question-sign';\r\n        //                break;\r\n        //            case 'success':\r\n        //                color = 'text-success';\r\n        //                img = 'ok';\r\n        //                break;\r\n        //            case 'info':\r\n        //                color = 'text-primary';\r\n        //                img = 'info-sign';\r\n        //                break;\r\n        //            default:\r\n        //                break;\r\n        //        }\r\n\r\n        //        alertParams.text =\r\n        //            '<div>\\\r\n        //            <div style=\"position:relative;\">\\\r\n        //                <div style=\"position:absolute; top:0; left:0;\" >\\\r\n        //                    <span style=\"font-size:28px;\" class=\"' + color + ' glyphicon glyphicon-' + img + '\"></span>\\\r\n        //                </div>\\\r\n        //                <div style=\"padding-left:40px;\">' + alertParams.text + '\\\r\n        //                </div>\\\r\n        //            </div>\\\r\n        //        </div>';\r\n        //    }\r\n\r\n        //    alert.html(alertParams.text);\r\n        //}\r\n\r\n        //alertParams.close = function () {\r\n        //    if (options.close) {\r\n        //        options.close.call(alert);\r\n        //    }\r\n        //    alert.remove();\r\n        //}\r\n        //alert.dialog(alertParams);\r\n        //if (alertParams.url && alertParams.url !== '') {\r\n        //    alert.load(alertParams.url, alertParams.onload);\r\n        //}\r\n\r\n        //alert.dialog('open');\r\n        //return alert;\r\n    }\r\n\r\n    utils.ui.alert = function (options) {\r\n        options = $.extend(\r\n            {\r\n                id: 'utilsUiAlertDialog',\r\n                title: 'Сообщение!',\r\n                winType: 'info',\r\n                width: 400,\r\n                height: 220,\r\n                buttons: [\r\n                    {\r\n                        html: '<span class=\"k-icon k-i-tick\"></span> Ok',\r\n                        click: function () { $(this).modal('hide'); },\r\n                        'class': 'btn btn-default'\r\n                    }]\r\n            }, options);\r\n        return this.dialog(options);\r\n    }\r\n    utils.ui.error = function (options) {\r\n        options = $.extend(\r\n            {\r\n                id: 'utilsUiErrorDialog',\r\n                title: 'Ошибка!',\r\n                winType: 'error'\r\n            }, options);\r\n        return this.alert(options);\r\n    }\r\n    utils.ui.success = function (options) {\r\n        return this.alert(options);\r\n    }\r\n\r\n    utils.ui.prompt = function (options, func) {\r\n        if (typeof options === 'string') {\r\n            options = { text: options, func: func }\r\n        }\r\n        if (func === undefined) {\r\n            func = options.func;\r\n        }\r\n\r\n        var input = '<div><input id=\"utilsUiPromptDialogInput\" /></div>';\r\n        if (options.inputType === 'date') {\r\n            var oldOpen = options.open;\r\n            options.open = function () {\r\n                $(this).find('#utilsUiPromptDialogInput')\r\n                    .datetimepicker({\r\n                        format: 'd/m/Y',\r\n                        lang: 'uk',\r\n                        timepicker: false,\r\n                        dayOfWeekStart: 1\r\n                    })\r\n                    .mask(\"99/99/9999\", { placeholder: \"__/__/____\" })\r\n                    .removeAttr(\"data-val-date\");\r\n                if (oldOpen) {\r\n                    oldOpen.call(this);\r\n                }\r\n            }\r\n        } else if (options.inputType === 'textarea') {\r\n            input = '<div><textarea style=\"width:100%\" id=\"utilsUiPromptDialogInput\"></textarea></div>';\r\n        }\r\n\r\n        options.text = options.text += input;\r\n        var defaultOptions = $.extend(\r\n            {\r\n                id: 'utilsUiPromptDialog',\r\n                title: 'Ввведите значение',\r\n                winType: 'confirm',\r\n                width: 400,\r\n                height: 250,\r\n                buttons: [\r\n                    {\r\n                        text: 'Отменить',\r\n                        click: function () { $(this).modal('hide'); },\r\n                        'class': 'btn btn-default'\r\n                    }, {\r\n                        html: '<span class=\"text-success glyphicon glyphicon-ok\"></span> Ok',\r\n                        click: function () {\r\n                            if (func) {\r\n                                func.call(this, $('#utilsUiPromptDialogInput').val());\r\n                            }\r\n                            $(this).modal('hide');\r\n                        },\r\n                        'class': 'btn btn-default'\r\n                    }\r\n                ]\r\n            }, options);\r\n        return this.confirm(defaultOptions);\r\n    }\r\n\r\n    utils.ui.confirm = function (options, func) {\r\n        //для того щоб можна було func передавати в options\r\n        if (func === undefined) {\r\n            func = options.func;\r\n        }\r\n        options = $.extend(\r\n            {\r\n                id: 'utilsUiConfirmDialog',\r\n                title: 'Подтверждение!',\r\n                winType: 'confirm',\r\n                width: 400,\r\n                height: 250,\r\n                buttons: [\r\n                    {\r\n                        text: 'Отменить',\r\n                        click: function () { $(this).modal('hide'); },\r\n                        'class': 'btn btn-default'\r\n                    }, {\r\n                        html: '<span class=\"text-success glyphicon glyphicon-ok\"></span> Ok',\r\n                        click: function () {\r\n                            var funcResult;\r\n                            if (func) {\r\n                                funcResult = func.call(this);\r\n                            }\r\n                            if (funcResult !== false) {\r\n                                $(this).modal('hide');\r\n                            }\r\n                        },\r\n                        'class': 'btn btn-default'\r\n                    }\r\n                ]\r\n            }, options);\r\n        return this.alert(options);\r\n    }\r\n\r\n    utils.ui.notify = function (title, text, type, settings) {\r\n        var popup = $('#notifyPopup');\r\n        if (popup.length === 0) {\r\n            popup = $('<div />', { id: 'notifyPopup', zindex: 99999 });\r\n            popup.append('body');\r\n        }\r\n        var options = {\r\n            title: title,\r\n            message: text\r\n        };\r\n        settings = $.extend({\r\n            type: (type === 'error' ? 'danger' : type) || 'info',\r\n            z_index: 999999\r\n        }, settings);\r\n\r\n        return $.notify(options, settings);\r\n    }\r\n\r\n    return utils;\r\n}(jQuery));\r\n"]}